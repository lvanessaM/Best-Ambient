<div class="container">
  <div class="container mt-3">
    <div class="mt-4 p-5 bg-success text-white rounded">
      <h3 class="text-center"><b>Publicaciones</b></h3>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <div class="form-group form-inline">
        Busca la publicacion:
        <input
          class="form-control ml-2 btn-outline-info"
          type="text"
          name="searchTerm"
          [(ngModel)]="searchTerm"
        />
      </div>
      <table class="table table-striped">
        <thead>
          <th>titulo</th>
          <th>descripcion</th>
          <th>estado</th>
          <th>fecha</th>
        </thead>
        <tbody>
          <tr *ngFor="let publicacion of publicacionesSet; let i = index">
            <td>{{ publicacion.titulo }}</td>
            <td>{{ publicacion.descripcion }}</td>
            <td>{{ publicacion.estado }}</td>
            <td>{{ publicacion.fecha }}</td>
            <td>
              <button
                class="btn btn-sm btn-outline-info"
                (click)="triggerModal(modalData, publicacion)"
              >
                Edit
              </button>
              &nbsp;
              <button
                class="btn btn-outline-danger btn-sm"
                (click)="deletePublicacion(publicacion.id)"
              >
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #modalData let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Edit Publicaciones</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    >
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  <div class="modal-body">
    <div style="width: 400px; margin: auto">
      <div class="submit-form">
        <div class="form-group"></div>
        <div class="form-group">
          <label for="name">titulo</label>
          <input
            type="text"
            class="form-control"
            id="titulo"
            required
            [(ngModel)]="currentPublicaciones.titulo"
            name="titulo"
          />
        </div>
        <div class="form-group">
          <label for="name">descripcion</label>
          <input
            type="text"
            class="form-control"
            id="descripcion"
            required
            [(ngModel)]="currentPublicaciones.descripcion"
            name="descripcion"
          />
        </div>
        <div class="form-group form-check">    
          <input
            type="checkbox"
            class="form-check-input"
            id="Estado"
            required
            [(ngModel)]="currentPublicaciones.estado"
            name="Estado"
   />
   <label class="form-check-label" for="estado"> ESTADO</label>

        </div>
        <div class="form-group">
          <label for="name">fecha</label>
          <input
            type="date"
            class="form-control"
            id="fecha"
            required
            [(ngModel)]="currentPublicaciones.fecha"
            name="fecha"
          />
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-success"
      (click)="updatePublicaciones()"
      (click)="modal.close('Save click')"
    >
      Guardar
    </button>
  </div>
</ng-template>

