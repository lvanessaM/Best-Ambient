<div class="container mt-3">
    <div class="mt-4 p-5 bg-success text-white rounded">
      <h3 class="text-center"><b>PUBLICACIONES</b></h3>
      <div class="card-body">
        <div class="form-group form-inline">
          Buscar publicacion:
          <input
            class="form-control ml-2"
            type="text"
            name="searchTerm"
            [(ngModel)]="searchTerm"
          />
        </div>
        <table class="table table-striped">
          <thead>
            <th>Titulo</th>
            <th>Descripcion</th>
            <th>Estado</th>
            <th>Fecha</th>
          </thead>
          <tbody>
            <tr *ngFor="let item of publicacionesSet | listFilter: searchTerm">
              <td>{{ item.Titulo }}</td>
              <td>{{ item.Descripcion}}</td>
              <td>{{ item.estado }}</td>
              <td>{{ item.fecha }}</td>
  
              <td>
                <button
                  class="btn btn-info btn-sm"
                  (click)="triggerModal(modalData, item)"
                >
                  Edit
                </button>
                &nbsp;
                <button
                  class="btn btn-danger btn-sm"
                  (click)="deletePublicacion(item.id)"
                >
                  Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
  <ng-template #modalData let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Edit Publicaciones</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      >
        <span aria-hidden="true">Ã—</span>
      </button>
    </div>
    <div class="modal-body">
      <div style="width: 400px; margin: auto">
        <div class="submit-form">
          <div class="form-group"></div>
          <div class="form-group">
            <label for="name">TITULO</label>
            <input
              type="text"
              class="form-control"
              id="titulo"
              required
              [(ngModel)]="currentPublicaciones.titulo"
              name="titulo"
            />
          </div>
          <div class="form-group">
            <label for="name">DESCRIPCION</label>
            <input
              type="text"
              class="form-control"
              id="descripcion"
              required
              [(ngModel)]="currentPublicaciones.descripcion"
              name="descripcion"
            />
          </div>
          <div class="form-group form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="estado"
              required
              [(ngModel)]="currentPublicaciones.estado"
              name="estado"
            />
            <label class="form-check-label" for="estado"> ESTADO</label>
          </div>
  
          <div class="form-group">
            <label for="name">fecha</label>
            <input
              type="date"
              class="form-control"
              id="fecha"
              required
              [(ngModel)]="currentPublicaciones.fecha"
              name="fecha"
            />
          </div>
          </div>
      </div>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-success"
        (click)="updatePublicaciones()"
        (click)="modal.close('Save click')"
      >
        Save
      </button>
    </div>
  </ng-template>
  
  <br />
  <br />
  <div class="food-text">
    <form #f="ngForm" class="form-inline">
      <div class="form-group">
        <label for="id">TITULO:</label>
        <input
          [(ngModel)]="idpublicaciones"
          id="titulo"
          name="titulo"
          class="form-control ml-2 mr-2"
        />
      </div>
      <button
        (click)="retrievePublicacion(idpublicaciones)"
        [disabled]="!f?.valid"
        class="btn btn-primary"
      >
        Search
      </button>
    </form>
  </div>
  <div class="col-md-6">
    <div *ngIf="currentPublicaciones">
      <div>
        <label><strong>titulo:</strong></label> {{ currentPublicaciones.titulo }}
        <label><strong>Descripcion:</strong></label> {{ currentPublicaciones.decripcion }}
      </div>
    </div>
  
    <label><strong></strong></label> {{ msgError }}
  </div>
  <br />
 
  
  
  
 
  